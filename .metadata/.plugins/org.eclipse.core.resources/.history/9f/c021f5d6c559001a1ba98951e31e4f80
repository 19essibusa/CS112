/* Vec.cpp defines the methods for Vec, a simple vector class.
 * Student Name:
 * Date:
 * Begun by: Joel C. Adams, for CS 112 at Calvin University.
 */

#include "Vec.h"

Vec::Vec()
{
	mySize = 0;
	myArray = NULL;
}

Vec::Vec(unsigned size)
{
	mySize = size;

	if (mySize > 0)
	{
		myArray = new Item[size]();
	}

	else
	{
		myArray = NULL;
	}
}

Vec::Vec(const Vec& original) {
	mySize = original.mySize;
	myArray = new Item[mySize]();


	if (original.mySize > 0)
	{

		for (unsigned i = 0; i < mySize; ++i)
		{
			myArray[i] = original.myArray[i];
		}
	}


	else
	{
		mySize = 0;
		myArray = NULL;
	}


}

Vec::~Vec()
{
	mySize = 0;
	delete [] myArray;
	myArray = NULL;
}

Vec& Vec::operator=(const Vec& original)
{

	if(myArray == original.myArray)
	{
		return*this;
	}

	else if(original.mySize == 0)
	{
		mySize = 0;
		delete [] myArray;
		myArray = NULL;

		return*this;
	}

	else
	{
		mySize = original.mySize;
		delete [] myArray;
		myArray = new Item[mySize];

		for (unsigned i = 0; i < mySize; ++i)
		{
			myArray[i] = original.myArray[i];
		}
		return*this;
	}




}


unsigned Vec::getSize() const
{
	return mySize;
}

void Vec::setItem(unsigned index, const Item& it)
{
	if (index >= mySize || index < 0 || mySize == 0) {
		throw range_error("The range cannot be found");
	} else {
		myArray[index] = it;
	}
}

Item Vec::getItem(unsigned index) const
{

	if (index >= mySize || index < 0 || mySize == 0)
	{
		throw range_error("The range is invalid");
	}
	else
	{
		return myArray[index];
	}

}
void Vec::setSize(unsigned newSize)
{
	if (mySize == 0) {
			mySize = newSize;
			myArray = new Item[mySize];
			for (unsigned i = 0; i < mySize; ++i) {
				myArray[i] = 0;
			}
		} else if (newSize == 0) {
			mySize = 0;
			delete [] myArray;
			myArray = NULL;
		} else  if (newSize == mySize) {

		} else {
			Item* temp = myArray;
			myArray = new Item[newSize];
			unsigned oldSize = mySize;
			mySize = newSize;

			if (oldSize < newSize) {
				for (unsigned i = 0; i < oldSize; ++i) {
					myArray[i] = temp[i];
				}
				for (unsigned i = oldSize; i < newSize; ++i) {
					myArray[i] = 0;
				}
			} else {
				for (unsigned i = 0; i < newSize; ++i) {
					myArray[i] = temp[i];
				}
			}
		delete [] temp;
		}
}
bool Vec::operator==(const Vec& v2) const
{
	if(mySize!=v2.mySize)
	{
		return false;
	}
	else
	{
		for (unsigned i = 0; i<mySize; i++)
		{
			if (myArray != v2.myArray)
			{
			return false;
			}
		}

	}
	return true;
}
