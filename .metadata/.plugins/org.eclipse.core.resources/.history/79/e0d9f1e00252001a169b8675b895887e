 /* Application.cpp defines the methods for class Application (see Application.h).
    * Student Name: Einstein Essibu
    * Date:02/17/2020
    * Begun by: Joel Adams, for CS 112 at Calvin University.
    */

#include "Application.h"
#include "PlayList.h"
#include <iostream>
#include <string>
using namespace std;

void Application::RunApp()
{
	PlayList pList("testSongs.txt");
	int input1;
	cout << " Welcome to the PlayList Manager!" << endl;
	cout << " Please enter:" << endl;
	cout << "   1 - to search the playlist for songs by a given artist" << endl;
	cout << "   2 - to search the playlist for songs from a given year" << endl;
	cout << "   3 - to search the playlist for songs with a given phrase in their title" << endl;
	cout << "   4 - to add a new song to the playlist" << endl;
	cout << "   5 ... other options ..." << endl;
	cout << "   0 - to quit" << endl;
	cout << "--->" << endl;
	cin >> input1;

	if (input1 ==1 )
	{
		string artist;
		cout << "Please type the name of the artist" << endl;
		cin >> artist;
		getline(cin, artist);
		vector<Song> searchResult = pList.searchByArtist(artist);



		if (artist.size()==0)
		{
			cout << "Artist couldn't be found" << endl;
		}

		else
		{
			for (unsigned i = 0; i < searchResult.size(); i++ )
			{
				cout << searchResult[i].getTitle() << flush;
				cout << searchResult[i].getYear() << flush;
				cout << searchResult[i].getArtist() << endl;
			}
		}
	}

	else if (input1 ==2 )
	{
		unsigned year;
		cout << "Please type in the year of the song" << endl;
		vector<Song> searchResult = pList.searchByYear(year);
		cin >> year;



		if (searchResult.size()==0)
		{
			cout << "Year couldn't be found" << endl;
		}

		else
		{
			for (unsigned i = 0; i < searchResult.size(); i++ )
			{
				cout << searchResult[i].getTitle() << flush;
				cout << searchResult[i].getYear() << flush;
				cout << searchResult[i].getArtist() << endl;
			}
		}
	}
	else if (input1 ==3 )
	{
		string title;
		cout << "Please type the name of the title" << endl;
		cin >> title;
		getline(cin, title);
		vector<Song> searchResult = pList.searchByTitlePhrase(title);



		if (title.size()==0)
		{
			cout << "Year couldn't be found" << endl;
		}

		else
		{
			for (unsigned i = 0; i < searchResult.size(); i++ )
			{
				cout << searchResult[i].getTitle() << flush;
				cout << searchResult[i].getYear() << flush;
				cout << searchResult[i].getArtist() << endl;
			}
		}
	}
	else if (input1 ==4 )
	{
		string Title;
		unsigned Date;
		string Artist;

		cout << "Please Type in the Title of the Song" << endl;
		cin >> Title;
		cout << "Please Type in the Artist of the Song" << endl;
		cin >> Artist;
		cout << "Please Type in the Date of the Song" << endl;
		cin >> Date;

		Song s1(Title, Artist, Date);
		pList.addSong(s1);
		cout << "Your song has been saved" << endl;
	}

	else if (input1 ==5 )
	{
		int input2;
		cout << "   6 - to remove a song from the playlist" << endl;
		cout << "   4 - to save the playlist" << endl;
		cin >> input2;
		if (input2 == 6)
		{
			string Title;
			unsigned Date;
			string Artist;

			cout << "Please Type in the Title of the Song" << endl;
			cin >> Title;
			cout << "Please Type in the Artist of the Song" << endl;
			cin >> Artist;
			cout << "Please Type in the Date of the Song" << endl;
			cin >> Date;

			Song s1(Title, Artist, Date);
			pList.removeSong(s1);
			cout << "Your song has been saved" << endl;
		}

		else if (input2 == 7)
		{
			if (input2 == 5)
			{
				pList.save();
				cout << "Your song has been saved" << endl;
			}
		}
	}
}



