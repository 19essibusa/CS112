#include "Application.h"
#include "Matrix.h"
#include <iostream>

void Application::runApp() {
	cout << "Welcome to the Matrix Manager!" << endl;
	cout << "Select the file for the matrix you wish to open" << endl;
	cin >> myMatrixFile;
	myMatrix.readFrom("myMatrixFile");
	myRows = Matrix.getRows();
	myColumns = Matrix.getColumns();
	while (true) {
		cout << "Select what you want to do with your Matrix" << endl;
		cout << "    1 -\t Addition\n"
			 << "    2 -\t Subtraction\n"
			 << "    3 -\t Transpose\n"
			 << "    4 -\t Quit\n";
		string userInputStr;
		unsigned userInput;
		cin >> userInputStr;

		userInput = atoi( userInputStr.c_str() );

		if (userInput == 1) {
			cout << "Select the matrix that you wish to add to your matrix." << endl;
			cin >> userInputStr;
			Matrix tempMatrix;
			tempMatrix.readFrom(userInputStr);
			tempMatrix = Matrix + tempMatrix;
			printMatrix(tempMatrix);
			cout << endl;

		} else if (userInput == 2) {
			cout << "Select the matrix that you wish to subtract from your matrix." << endl;
			cin >> userInputStr;
			Matrix tempMatrix;
			tempMatrix.readFrom(userInputStr);
			tempMatrix = Matrix - tempMatrix;
			printMatrix(tempMatrix);
			cout << endl;

		} else if (userInput == 3) {
			Matrix tempMatrix;
			tempMatrix = Matrix.getTranspose();
			printMatrix(tempMatrix);
			cout << endl;

		} else if (userInput == 4) {
			exit(0);

		} else {
			cout << "Invalid input: Please select another option.\n" << endl;
		}
	}
}

/* Outputs matrix to the console with clean formatting
 * @params: Matrix object
 */
//void Application::printMatrix(const Matrix<double>& matrix) const {
//
//	unsigned rows = matrix.getRows();
//	unsigned columns = matrix.getColumns();
//	cout << "{" << flush;
//	for (unsigned i = 0; i < rows; ++i){
//		for (unsigned j = 0; j < columns; ++j){
//			if (i != (rows-1) || j != (columns-1)) {
//				cout << matrix[i][j] << ",\t"<< flush;
//			} else { cout << matrix[i][j]; }
//		}
//		if (i != (rows-1)) {
//			cout << "\n " << flush;
//		}
//	}
//	cout << "}" << endl;
//}
