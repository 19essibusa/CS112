#include "Application.h"
#include "Matrix.h"
#include <iostream>
using namespace std;

void Application::runApp() {
	cout << "Enter the name of the file of the matrix you wish to open" << endl;
	cin >> MatrixFile;
	Matrix1.readFrom(MatrixFile);
	myRows = Matrix1.getRows();
	myColumns = Matrix1.getColumns();
		cout << "Choose what you want to do with your Matrix" << endl;
		cout << "    1) Addition" << endl;
		cout << "    2) Subtraction"<< endl;
		cout << "    3) Transpose"<< endl;
		cout << "    4) Quit"<< endl;

		string userInputStr;
		unsigned userInput;
		cin >> userInputStr;

		userInput = atoi( userInputStr.c_str() );

		if (userInput == 1) {
			cout << "Choose the matrix you want to add to your matrix." << endl;
			cin >> userInputStr;
			Matrix tempMatrix;
			tempMatrix.readFrom(userInputStr);
			tempMatrix = Matrix1 + tempMatrix;
			printMatrix(tempMatrix);
			cout << endl;

		} else if (userInput == 2) {
			cout << "Choose the matrix you want to subtract from your matrix." << endl;
			cin >> userInputStr;
			Matrix tempMatrix;
			tempMatrix.readFrom(userInputStr);
			tempMatrix = Matrix1 - tempMatrix;
			printMatrix(tempMatrix);
			cout << endl;

		} else if (userInput == 3) {
			Matrix tempMatrix;
			tempMatrix = Matrix1.getTranspose();
			printMatrix(tempMatrix);
			cout << endl;

		} else if (userInput == 4) {
			exit(0);

		} else {
			cout << "Invalid!! Please choose another option.\n" << endl;
		}
	}


void Application::printMatrix(const Matrix& matrix) const {

	unsigned rows = matrix.getRows();
	unsigned columns = matrix.getColumns();
	cout << "{" << flush;
	for (unsigned i = 0; i < rows; ++i){
		for (unsigned j = 0; j < columns; ++j){
			if (i != (rows-1) || j != (columns-1)) {
				cout << matrix[i][j] << ",\t"<< flush;
			} else { cout << matrix[i][j]; }
		}
		if (i != (rows-1)) {
			cout << "\n " << flush;
		}
	}
	cout << "}" << endl;
}
